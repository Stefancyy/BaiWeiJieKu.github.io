---
layout: post
title: "小猿课堂项目"
categories: 云课堂
tags: 云课堂
author: 百味皆苦
music-id: 2602106546
---

* content
{:toc}
### 数据库设计

#### 用户表

- t_auth_user

```
id：自增主键
realname：登录用户名
username：真实姓名
password：密码
gender：性别
header：头像
mobile：手机号
status：状态：待审核（0），有效（1），无效（3）
birthday：生日
education：学历：大专、本科、硕士、博士、博士后
college_code：大学编码
college_name：大学名称
cert_no：资格证书编号
title：头衔
sign：签名
open_id：微信公众号openid
wechat_id：微信号
qq：QQ号
login_time：最后一次登录时间
ip：最后一次登录ip
province：所在省份
city：所在城市
district：所在地区
weight：权重
create_time：
create_user：
update_time:
update_user:
del:
```



#### 课程类别表

- t_consts_classify

```
id:自增主键
name:名称
code:编码
parent_code:父级别code
sort:排序，默认0
create_time:创建时间
create_user:
update_time:
update_user:
del:逻辑删除，默认0
```



#### 高校信息表

- t_consts_college

```
id:自增主键
name:名称
code：编码
picture:图片
create_time:
create_user:
update_time:
update_user:
del:
```



#### 数据字典

- t_consts_dictionary
- 数据字典：可用于可选项值的配置等

```
id:自增主键
group_code:分组code，默认0
group_name:分组名称
key:键
value：值
sort：排序，默认0
create_time:
create_user:
update_time:
update_user:
del:
```



#### 首页轮播表

- t_consts_site_carousel

```
id:自增主键
name:名称
picture:图片
url:链接
weight:权重，默认0
enable:是否可用，默认0
create_time:
create_user:
update_time:
update_user:
del:
```



#### 课程表

- t_course

```
id:自增主键
name:课程名称
type：课程类型
classify:课程分类
classify_name:课程分类名称
sub_classify:课程二级分类
sub_classify_name：课程二级分类名
direction:课程方向
username:归属人
level:课程级别：1-初级，2-中级，3-高级,默认1
free：是否免费：0-否，1-是，默认1
price：课程价格
time：课程时长
onsale:未上架（0）、上架（1），默认0
picture:
brief:课程描述
recommend：未推荐（0）、推荐（1），默认0
weight:权重
study_count:学习人数
create_time:
create_user:
update_time:
update_user:
del:
```



#### 课程评论&答疑表

- t_course_comment

```
id:自增主键
username:用户username
to_username:评论对象username
course_id:课程id
section_id:章节id
section_title:章节标题
content:评论内容
ref_id:引用id
ref_content:引用内容
type:类型：0-评论；1-答疑QA,默认0
create_time:
create_user:
update_time:
update_user:
del:
```



#### 课程章节表

- t_course_section

```
id:自增主键
course_id：归属课程id
parent_id：父章节id，（只有2级）
name：章节名称
sort：排序
time：时长
onsale：未上架（0）、上架（1）
video_url：
create_time:
create_user:
update_time:
update_user:
del:
```



#### 用户收藏表

- t_user_collections

```
id:自增主键
user_id：用户id
classify：用户收藏分类
object_id：收藏内容id
tips：用户收藏备注
create_time:
create_user:
update_time:
update_user:
del:
```



#### 用户学习章节表

- t_user_course_section

```
id:自增主键
user_id：用户id
course_id：课程id
section_id：章节id
status：状态：0-学习中；1-学习结束
rate：
create_time:
create_user:
update_time:
update_user:
del:
```



#### 用户关注表

- t_user_follows

```
id:自增主键
user_id:用户id
follow_id:关注的用户id
create_time:
create_user:
update_time:
update_user:
del:
```



### 前台项目

- ocPortal(WAR)

#### 网站首页

- PortalController.java
- 加载轮播：查询首页轮播表---》遍历list---》七牛云工具类---》设置图片地址---》添加modelandview
- 课程分类（一级分类）：查询课程类别表---》获取所有一级分类和二级分类---》为分类设置课程推荐---》添加modelandview
- 实战课推荐：设置查询条件（5门，非免费，按权重降序）---》查询课程表---》添加modelandview
- 免费课程推荐：设置查询条件（免费）---》查询符合条件的所有课程---》添加modelandview
- 获取7门java课程：设置查询条件（数量7，是否免费null，二级分类java）---》查询---》添加modelandview
- 加载讲师：从用户表查询五位讲师---》添加modelandview



#### 课程分类页

- CourseListController.java
- 获取一级分类---》获取当前分类---》排序---》分页

#### 课程详情页

- CourseController.java
- 获取课程基本信息
- 获取课程教师信息
- 获取推荐课程
- 获取课程章节
- 课程评论（CourseCommentController）
- 课程问答
- 分页实现
- 收藏功能（CollectionsController）
- 关注教师功能（FollowerController）

#### 课程学习页

- CourseController#video
- CourseCommentController#doComment
- IdentifyCodeController（验证码生成器）
- 课程章节，评论展示
- 课程学习记录
- 评论，验证码
- 视频播放

#### 个人中心页

- UserController
- 获取当前用户关注的用户的学习记录
- SessionContext
- 我学习过的课程
- 我收藏的课程
- 个人信息修改
- 上传头像（七牛）
- 修改密码